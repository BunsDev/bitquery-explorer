
<% content_for :title, @header %>

<div class="row search mb-2">
  <div class="col-12 col-lg">
    <!--    <%# if local_assigns[:header] %><h6 class="header-title word-wrap"><%#= header %></h6><%# end %>-->
    <h1 class="mt-2 word-wrap"><%= @header %></h1>
    <p>
      Use date range control to see data by different time period.
      Data is loaded on <%= Date.today %> 00:00 UTC.
      Click country from table below to see country-level.
      <br><strong style="color: red; ">Note that not all countries report recovered cases.</strong><br><br>
      <%= render partial: 'covid/dashboard/short_countries' %><br><br>
      <%= render partial: 'covid/dashboard/short_continents' %>
    </p>
  </div>

    <div class="col-12 col-lg-auto">
      <%= render partial: 'shared/reportrange' %>
    </div>

</div>

<div class="row">
  <%#= render partial: 'total_text_query' %>
  <%#= render partial: 'total_text', locals: {field: 'confirmed',
                                             name: 'Confirmed',
                                             card_class: 'border-warning',
                                             html_class: 'text-warning'
  } %>

  <%#= render partial: 'total_text', locals: {field: 'recovered',
                                             name: 'Recovered',
                                             card_class: 'border-success',
                                             html_class: 'text-success'}
  %>

  <%#= render partial: 'total_text', locals: {field: 'deaths',
                                             name: 'Deaths',
                                             card_class: 'border-danger',
                                             html_class: 'text-danger'
  } %>
</div>

<%#= render partial: 'timegraph' %>
<%#= render partial: 'timegraph_total' %>

<%#= render partial: 'countrymap' %>
<%#= render partial: 'countrytable' %>
<%#= render partial: 'densitymap' %>

<div class="row">

  <%#= render partial: 'countries_pie', locals: {field: 'confirmed',
                                                name: 'Top countries by Confirmed Cases'} %>

  <%#= render partial: 'countries_pie', locals: {field: 'recovered',
                                                name: 'Top countries by Recovered Cases'} %>

  <%#= render partial: 'countries_pie', locals: {field: 'deaths',
                                                name: 'Top countries by Death Cases'} %>

</div>

<%#= render partial: 'time_stacked' %>
<%#= render partial: 'country_bubble' %>
<%#= render partial: 'days_confirmed_bubble' %>
<%#= render partial: 'days_bubble' %>

<div class="row">
  <%= render partial: 'continent_table' %>
  <%#= render partial: 'continents_stacked' %>
</div>

<%= render partial: 'sources' %>
